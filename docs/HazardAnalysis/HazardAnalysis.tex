\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{multirow}
\usepackage{array}
\usepackage{geometry}
\usepackage{adjustbox} 
\usepackage{caption}
\usepackage{enumitem}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
Oct 23 & All & First Draft\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\section{Introduction}

A hazard refers to any circumstance or occurence that has the potential to endanger, damage or cause a system to fail. Hazards may arise from errors in design, implementation or operation and may affect both the system and the user.

In this document, we will examine the possible risks related to the creation and application of a software system intended to replicate the functionality of a Continuous Variable Transmission (CVT) for the car of the McMaster Baja Racing team. By systematically examining the components and assumptions of the software, this hazard analysis attempts to make sure that the finished solution satisfies performance objectives and is robust enough to manage the intricacies inherent in CVT modeling.

\section{Scope and Purpose of Hazard Analysis}

The purpose of conducting a hazard analysis when designing software that aims to improve the
McMaster Baja team's Continuous Variable Transmission(CVT), is to identify and become aware of potential risks that could negatively affect the project. 
A hazard such as producing flawed simulations could delay the tuning process and create unreliable and incorrect outputs thus negatively impacting the vehicle performance and efficiency. 
These performance flaws could then lead to losses during Baja competitions. 
Through exploring the possible hazards involved, the project's code quality can be enhanced, potential risks can be mitigated and it ensures that the system will function as intended. 
\\\\
\noindent This document assumes that the user has access to a hard drive with sufficient storage space to download the software, an appropriate computer that meets the system requirements and a stable internet connection when downloading the software. 
\wss{You should say what \textbf{loss} could be incurred because of the
hazards.}

\section{System Boundaries and Components}

This system is divided into three main components:\\
~\newline
\textbf{User Interface Component}  
~\newline
This component is responsible for taking user input, providing the output to the user, and displaying the simulation of the 3D models.\\
~\newline
\textbf{Backend (Math) Component}  
~\newline
This component handles the mathematical calculations required for the program. The calculations will be done using Python and specifically the libraries NumPy and SciPy.\\
~\newline
\textbf{Simulation Component}  
~\newline
This component displays various models that are part of the CVT system, moving in accordance with the simulation.\\

\wss{Dividing the system into components will help you brainstorm the hazards.
You shouldn't do a full design of the components, just get a feel for the major
ones.  For projects that involve hardware, the components will typically include
each individual piece of hardware.  If your software will have a database, or an
important library, these are also potential components.}

\section{Critical Assumptions}

\wss{These assumptions that are made about the software or system.  You should
minimize the number of assumptions that remove potential hazards.  For instance,
you could assume a part will never fail, but it is generally better to include
this potential failure mode.}

\begin{itemize}
    \item [A1:] Users will not intentionally misuse the software or purposefully try to find unsafe settings.
    \item [A2:] The system that the software is running on will be not compromised and will function in a standard manner.
    \item [A3:] Third party software and libraries used are trusted to be safe and free of vulnerabilities.
    \item [A4:] Users will not leak information received from the application to other teams or organizations. 
    \item [A5:] The software will not be connecting to the internet or any other network.
    \item [A6:] The application will not be collecting any user data or personal information.
\end{itemize}


\section{Failure Mode and Effect Analysis}

\wss{Include your FMEA table here. This is the most important part of this document.}
\wss{The safety requirements in the table do not have to have the prefix SR.
The most important thing is to show traceability to your SRS. You might trace to
requirements you have already written, or you might need to add new
requirements.}
\wss{If no safety requirement can be devised, other mitigation strategies can be
entered in the table, including strategies involving providing additional
documentation, and/or test cases.}


\begin{itemize}
    \item Improper load balancing
    \item Power transfer between pulleys (belt stuff)
    \item Inaccurate ODE solving (check the library / precision)
    \item Engine speed and torque calculations 
    \item Realistic torque / force ratings of components
    \item Insufficient frictional forces
\end{itemize}


\newgeometry{left=0cm, right=0cm, top=0cm, bottom=0cm}
\begin{table}[ht]
    \centering
    \setlength{\tabcolsep}{3pt} % Adjust space between columns
    \renewcommand{\arraystretch}{1.5} % Adjust row spacing
    \begin{tabular}{|>{\centering\arraybackslash}m{1.5cm}|>{\centering\arraybackslash}m{1.75cm}|>{\centering\arraybackslash}m{3.25cm}|>{\arraybackslash}m{5cm}|>{\centering\arraybackslash}m{3cm}|>{\centering\arraybackslash}m{3cm}|>{\centering\arraybackslash}m{0.5cm}|>{\centering\arraybackslash}m{0.75cm}|}
    \hline
    \textbf{Design Function} & \textbf{Failure Modes} & \textbf{Effects of Failure} & \textbf{Causes of Failure} & \textbf{Detection} & \textbf{Recommended Action} & \textbf{SR} & \textbf{Ref} \\ \hline
    
    {Simulates the CVT system} %\multirow{3}{*}
    & Improper Load Balancing
    & \begin{itemize}[left=0pt]
        \item Increased wear over time leading to premature failure.
        \item Suboptimal power transfer between the engine and the wheels.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Incorrect distribution of forces across the pulleys due to inaccurate mass or load models.
        \item Errors in simulating the torque requirements based on the load.
        \item Inaccurate assumptions about load transfer between the pulleys.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Erratic changes in acceleration of the vehicle.
        \item Excessive load on one component compared to another.
        \item Validate with torque data.
    \end{itemize} & 
    \begin{itemize}[left=0pt]
        \item Adjust load model to more accurately represent the vehicle.
        \item Add dynamic load balancing checks to the simulation.
    \end{itemize} 
    & 1 & R18 \\ \cline{2-8} 
    
    & Inaccurate power transfer between pulleys (belt dynamics)
    & \begin{itemize}[left=0pt]
        \item Increased wear over time leading to premature failure.
        \item Suboptimal power transfer between the engine and the wheels.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Inaccurate modelling of belt tension and friction.
        \item Incorrect pulley geometry, taking advantage of belt assumptions to lead to impossible configurations.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Sudden drops in power transfer, or incredibly high torque differences.
        \item Unreasonably high belt tension or slack.
    \end{itemize} & 
    \begin{itemize}[left=0pt]
        \item Dynamically check if belt tension is within reasonable limits.
    \end{itemize} 
    & 2 & R19 \\ \cline{2-8} 
    
    & Poor numerical precision 
    & \begin{itemize}[left=0pt]
        \item Inaccurate simulation results, leading to incorrect design decisions
        \item Inconsistent behaviour of the system, leading to confusion and potential damage.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Insufficient precision in the ODE solver.
        \item Inappropriate time-step size.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Erratic in times of high acceleration or deceleration.
        \item Results that are inconsistent with the expected behaviour of the system.
    \end{itemize} &
    \begin{itemize}[left=0pt]
        \item Manually verify precision is sufficient by a factor of safety.
        \item Validate the ODE library's precision and accuracy.
    \end{itemize} 
    &  & \\ \cline{2-8} 
    
    & Insufficient frictional forces
    & \begin{itemize}[left=0pt]
        \item Excessive belt slippage or tension, leading to wear and poor efficiency.
        \item Simulations provide overly generous results.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Incorrect assumptions about the frictional forces between the belt and the pulleys.
        \item Incorrect friction models for the pulleys due to false geometry or temperature assumptions.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Consistently high forces that would be reduced by friction.
        \item Slip conditions met excessively while not being accounted for.
        \item Compare to belt slip and RPM data.
    \end{itemize} &
    \begin{itemize}[left=0pt]
        \item Investigate friction assumptions and models.
        \item Validate simulation in simple cases to ensure friction is accounted for.
    \end{itemize} 
    & 3 & R20 \\ \cline{2-8} 
    
    & Software Crash
    & \begin{itemize}[left=0pt]
        \item Loss of data and work.
        \item High frustration and loss of trust in the software.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Memory leaks or poor memory management.
        \item Incorrect handling of edge cases, such as a division by 0.
        \item Poor error handling, leading to system crashes rather than graceful failures.
    \end{itemize} 
    & \begin{itemize}[left=0pt]
        \item Application crashes during normal use.
        \item Program does not output data.
        \item Unusually high memory or CPU usage.
        \item Logs showing unhandled exceptions or errors.
    \end{itemize} &
    \begin{itemize}[left=0pt]
        \item Implement robust error handling.
        \item Conduct memory profiling and avoid loading large or unnecessary data.
        \item Test the software in edge cases to ensure it fails gracefully.
    \end{itemize} 
    & 4 & R21 \\ \hline
    
    \end{tabular}
    \caption{Failure Modes, Effects, and Recommended Actions for Insulin Delivery}
    \end{table}
\restoregeometry

\section{Safety and Security Requirements}

\textbf{SR 1}  The simulation will dynamically check load balancing and adjust the computations accordingly.\\
\textbf{SR 2} The simulation will dynamically check that the belt tension is within reasonable limits.\\ 
\textbf{SR 3} Ensure that the precision exceeds the standard 32-bit level by using 64-bit to ensure greater accuracy. \\
\textbf{SR 4} The software shall implement robust error handling mechanisms that detect and handle at least 95\% of all expected and unexpected errors, ensuring that no more than 5\% of critical system failures result in unhandled exceptions or system crashes.\\

\wss{Newly discovered requirements.  These should also be added to the SRS.  (A
rationale design process how and why to fake it.)}

\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

We will implement SR1, SR2, SR3 and SR4 as part of the capstone timeline.
We have chosen to implement all of these is that we believe that they are all relevant.
We also believe that they are all attainable within the project window.

\newpage{}

\section*{Appendix --- Reflection}

\wss{Not required for CAS 741}

\input{../Reflection.tex}

\begin{enumerate}
    \item What went well while writing this deliverable? 
    \item What pain points did you experience during this deliverable, and how
    did you resolve them?
    \item Which of your listed risks had your team thought of before this
    deliverable, and which did you think of while doing this deliverable? For
    the latter ones (ones you thought of while doing the Hazard Analysis), how
    did they come about?
    \item Other than the risk of physical harm (some projects may not have any
    appreciable risks of this form), list at least 2 other types of risk in
    software products. Why are they important to consider?
\end{enumerate}

\end{document}